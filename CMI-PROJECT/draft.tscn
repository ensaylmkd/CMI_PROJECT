[gd_scene load_steps=8 format=3 uid="uid://brqewsadfeqwf"]

[ext_resource type="PackedScene" uid="uid://c7ykwcqp5vipy" path="res://ennemyDraft.tscn" id="1_4lnb5"]
[ext_resource type="Script" path="res://level.gd" id="1_nbb5u"]
[ext_resource type="PackedScene" uid="uid://bmsu3tpr2hxsq" path="res://tourDraft.tscn" id="2_h0xge"]

[sub_resource type="Curve2D" id="Curve2D_62nkg"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -102, 66, 0, 0, 0, 0, 378, 77, 0, 0, 0, 0, 439, 82, 0, 0, 0, 0, 480, 103, 0, 0, 0, 0, 499, 134, 0, 0, 0, 0, 511, 182, 0, 0, 0, 0, 530, 447, 0, 0, 0, 0, 548, 488, 0, 0, 0, 0, 583, 514, 0, 0, 0, 0, 614, 531, 0, 0, 0, 0, 663, 537, 0, 0, 0, 0, 1277, 544)
}
point_count = 12

[sub_resource type="Animation" id="Animation_debul"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_q2ldb"]
resource_name = "new_animation"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_nrvoj"]
_data = {
"RESET": SubResource("Animation_debul"),
"new_animation": SubResource("Animation_q2ldb")
}

[node name="draft" type="Node2D"]
script = ExtResource("1_nbb5u")

[node name="Path2D" type="Path2D" parent="."]
curve = SubResource("Curve2D_62nkg")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2(139.584, 71.5363)
progress = 241.647
rotates = false

[node name="Ennemy" parent="Path2D/PathFollow2D" instance=ExtResource("1_4lnb5")]

[node name="AnimationPlayer" type="AnimationPlayer" parent="Path2D"]
root_node = NodePath("../PathFollow2D")
libraries = {
"": SubResource("AnimationLibrary_nrvoj")
}

[node name="Timer" type="Timer" parent="."]

[node name="PosTow1" type="Marker2D" parent="."]
position = Vector2(517, 51)

[node name="tower" parent="PosTow1" instance=ExtResource("2_h0xge")]
visible = false
metadata/_edit_lock_ = true

[node name="addTower" type="Button" parent="PosTow1"]
editor_description = "1"
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
metadata/_edit_lock_ = true

[node name="PosTow2" type="Marker2D" parent="."]
position = Vector2(444, 281)

[node name="tower" parent="PosTow2" instance=ExtResource("2_h0xge")]
visible = false
metadata/_edit_lock_ = true

[node name="addTower" type="Button" parent="PosTow2"]
editor_description = "1"
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
metadata/_edit_lock_ = true

[node name="PosTow3" type="Marker2D" parent="."]
position = Vector2(613, 452)

[node name="tower" parent="PosTow3" instance=ExtResource("2_h0xge")]
visible = false
metadata/_edit_lock_ = true

[node name="addTower" type="Button" parent="PosTow3"]
editor_description = "1"
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
metadata/_edit_lock_ = true

[connection signal="pressed" from="PosTow1/addTower" to="PosTow1/tower" method="_on_add_tower_pressed"]
[connection signal="pressed" from="PosTow2/addTower" to="PosTow2/tower" method="_on_add_tower_pressed"]
[connection signal="pressed" from="PosTow3/addTower" to="PosTow3/tower" method="_on_add_tower_pressed"]
